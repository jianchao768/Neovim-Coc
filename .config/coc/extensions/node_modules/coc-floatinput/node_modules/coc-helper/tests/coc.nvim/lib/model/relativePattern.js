'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const vscode_uri_1 = require("vscode-uri");
const errors_1 = require("../util/errors");
class RelativePattern {
    constructor(base, pattern) {
        if (typeof base !== 'string') {
            if (!base || !vscode_uri_1.URI.isUri(base) && typeof base.uri !== 'string') {
                throw (0, errors_1.illegalArgument)('base');
            }
        }
        if (typeof pattern !== 'string') {
            throw (0, errors_1.illegalArgument)('pattern');
        }
        if (typeof base === 'string') {
            this.baseUri = vscode_uri_1.URI.file(base);
        }
        else if (vscode_uri_1.URI.isUri(base)) {
            this.baseUri = base;
        }
        else {
            this.baseUri = vscode_uri_1.URI.parse(base.uri);
        }
        this.pattern = pattern;
    }
    toJSON() {
        return {
            pattern: this.pattern,
            baseUri: this.baseUri.toJSON()
        };
    }
}
exports.default = RelativePattern;
//# sourceMappingURL=relativePattern.js.map